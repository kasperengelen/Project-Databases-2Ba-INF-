<div  id="datadedupmodal" class="modal fade text-left" role="dialog">
    <div class="modal-dialog modal-lg">
    
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Data Duplicates</h4>
            </div>   

            <div class="modal-body">
                <form method="post" action=""
                    id="dedupform"> 
                    {% from "includes/_formhelpers.html" import render_field %}
                    {{ dedup_form.hidden_tag() }}
                    <div class="form-group" style="width: 40%; display: inline-block;">
                        {{render_field(dedup_form.exactmatch_list, class_="form-control", id="larger")}}
                    </div>
                    <div class="form-group" style="width: 40%; display: inline-block;">
                        {{render_field(dedup_form.ignore_list, class_="form-control", id="larger")}}
                    </div>
                    <p>Hold 'Ctrl' to select multiple attributes</p>
                    <div class="text-right">
                        <button class="btn btn-primary">Find Duplicates</button>
                    </div>
                </form>      
                <script>

                    $('#dedupsubmit').on('click', function() {
                        var formdata = $('#dedupform').serialize();
                        
                        $.ajax({
                            url: "{{ url_for('dataset_pages.dedup_find_matches', dataset_id=dataset_info.setid, tablename=table_name) }}",
                            type: 'POST',
                            data: formdata,
                            statusCode: {
                                200: function(response) {
                                    document.write(response);
                                },
                                502: function() {
                                    alert('Table too large for deduplication. Please select more exact matches');
                                    window.location.href = "{{ url_for('dataset_pages.table', dataset_id=dataset_info.setid, tablename=table_name) }}";
                                }
                            }
                        });
                    });

                </script>                
            </div>            

            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
        <!-- Modal content -->

    </div>
</div>